1 REM PROGRAM: SPRITE-MOVE
2 REM BY JUSTIN BALDOCK
100 VPOKE $1,$FA28,$00 : REM GHOST 1: RED
110 VPOKE $1,$FA29,$0E
120 VPOKE $1,$FA22,$FF
130 VPOKE $1,$FA23,$0F
140 VPOKE $1,$FA2C,$0A
150 VPOKE $1,$FA2D,$00
200 VPOKE $1,$FA48,$8E : REM GHOST 2: LIGHT BLUE
210 VPOKE $1,$FA49,$08
220 VPOKE $1,$FA42,$FF
230 VPOKE $1,$FA43,$0F
240 VPOKE $1,$FA4C,$0A
250 VPOKE $1,$FA4D,$00
300 VPOKE $1,$FA68,$80 : REM GHOST 3: ORANGE
310 VPOKE $1,$FA69,$0E
320 VPOKE $1,$FA62,$FF
330 VPOKE $1,$FA63,$0F
340 VPOKE $1,$FA6C,$0A
350 VPOKE $1,$FA6D,$00

999 REM LOAD BITMAP 1 INTO VRAM AT $04000, GHOST-FRAME1
1000 DATA $00,$00,$00,$44,$40,$00,$00,$00
1010 DATA $00,$00,$44,$44,$44,$40,$00,$00
1020 DATA $00,$44,$44,$44,$44,$44,$40,$00
1030 DATA $04,$44,$44,$44,$44,$44,$44,$00
1040 DATA $44,$44,$11,$44,$41,$14,$44,$40
1050 DATA $44,$41,$66,$14,$16,$61,$44,$40
1060 DATA $44,$41,$66,$14,$16,$61,$44,$40
1070 DATA $44,$44,$11,$44,$41,$14,$44,$40
1080 DATA $44,$44,$44,$44,$44,$44,$44,$40
1090 DATA $44,$44,$44,$44,$44,$44,$44,$40
1100 DATA $44,$44,$44,$44,$44,$44,$44,$40
1110 DATA $44,$44,$44,$44,$44,$44,$44,$40
1120 DATA $44,$44,$44,$44,$44,$44,$44,$40
1130 DATA $44,$44,$44,$44,$44,$44,$44,$40
1140 DATA $44,$40,$44,$40,$44,$40,$44,$40
1150 DATA $04,$00,$04,$00,$04,$00,$04,$00
1300 FOR I=O TO 127
1400 READ PX
1500 VPOKE $0,$4000+I,PX: REM POKE SPRITE DATA IN TO $4000
1600 NEXT I

1699 REM CURRENT SPRITE OFFSET
1700 SO = $00
1799 REM CURRENT PALETTE OFFSET (GHOST)
1800 PO = 2

1999 REM ENABLE SPRITES
2000 POKE $9F29,($40 OR PEEK($9F29))

2098 REM SET SPRITE DATA
2099 REM SPRITES START AT 1FC00
2100 VPOKE $1,$FC10,SO  : REM ADDRESS 12:5
2200 VPOKE $1,$FC11,$02 : REM 4BPP, ADDRESS $04000
2300 VPOKE $1,$FC12,$80 : REM XPOS 128
2400 VPOKE $1,$FC13,$00 : REM XPOS HIGH BIT
2450 X = 128: REM SET STARTING X
2500 VPOKE $1,$FC14,$80 : REM YPOS 128
2600 VPOKE $1,$FC15,$00 : REM YPOS HIGHT BIT
2650 Y = 128: REM SET STARTING Y
2700 VPOKE $1,$FC16,$0C : REM NO COLLISION, ZDEPTH 3, NO FLIP
2800 VPOKE $1,$FC17,$50+PO : REM 16X16 PIXELS, PALETTE OFFSET PO

3800 MS=1: REM MS=MOVE SPEED

3999 REM MAIN LOOP
4000 WX=INT(RND(1)*640): WY=INT(RND(1)*480)
4010 FOR I=0 TO 4000
4020 IF X<>WX OR Y<>WY THEN GOSUB 9000 
4030 IF X=WX AND Y=WY THEN GOTO 4000
4040 GOSUB 9500
4050 NEXT

8999 REM UPDATE SPRITE DATA XY TO WAYPOINT
9000 REM PRINT "UPDATE SPRITE DATA"
9005 IF X<WX THEN X=X+MS
9010 IF X>WX THEN X=X-MS
9020 IF Y<WY THEN Y=Y+MS
9030 IF Y>WY THEN Y=Y-MS
9040 RETURN

9499 REM UPDATE SPRITE IN VERA
9500 REM PRINT "UPDATE VERA"
9510 VPOKE $1,$FC12,X AND $FF
9520 VPOKE $1,$FC13,(X AND $0300)/$100
9530 VPOKE $1,$FC14,Y AND $FF
9540 VPOKE $1,$FC15,(Y AND $0300)/$100
9550 RETURN
